/*! tflib 23-09-2016 */
"use strict";var Form=function(a){function b(a,b){switch(a.fieldType){case"textfield":fTextfield.call(a,b);break;case"textarea":fTextarea.call(a,b);break;case"checkbox":fCheckbox.call(a,b);break;case"radio":fRadio.call(a,b);break;case"container":fContainer.call(a,b);break;case"combobox":fCombobox(a,e);break;case"mCombobox":fMCombobox(a,e);break;case"number":fNumber(a,e)}}function c(a,d,e,f){var g;a.length>0&&(g="row"===e?$('<div class="formComp-fieldset-row">'):$('<div class="formComp-fieldset-col">'),a.forEach(function(a,d){a.formItems&&a.formItems.length>0?c(a.formItems,a.flex,a.formLayout,g):b(a,g)}),d&&g.attr("style","flex:"+d),f.append(g))}var d,e=a.formName,f=a.formItems,g=a.width,h=a.margin,i=a.formLayout,j=a.flex;d=$('<form id="'+e+'" class="formComp"></form>'),d.css("width",g),d.css("margin",h),c(f,j,i,d),$("body").append(d)},sharedMethods=function(){this.hidef=function(){this.$childTemplate.css("visibility","hidden")},this.showf=function(){this.$childTemplate.css("visibility","visible")},this.hideDisplayf=function(){this.$childTemplate.css("display","none")},this.showDisplayf=function(){this.$childTemplate.css("display","flex")},this.disablef=function(){this.$innerComp.prop("readonly",!0),this.$childTemplate.find(".formComp-field-btn button").prop("disabled",!0)},this.enablef=function(){this.$innerComp.prop("readonly",!1),this.$childTemplate.find(".formComp-field-btn button").prop("disabled",!1)},this.removeNode=function(){this.$childTemplate.remove()},this.hideBtnf=function(){this.$childTemplate.find(".formComp-field-btn button").css("visibility","hidden")},this.showBtnf=function(){this.$childTemplate.find(".formComp-field-btn button").css("visibility","visible")},this.hideDisplayBtnf=function(){this.$childTemplate.find(".formComp-field-btn").css("display","none")},this.showDisplayBtnf=function(){this.$childTemplate.find(".formComp-field-btn").css("display","flex")},this.hideLabelf=function(){this.$childTemplate.find(".formComp-field-label").css("visibility","hidden")},this.showLabelf=function(){this.$childTemplate.find(".formComp-field-label").css("visibility","visible")},this.hideLabelDisplayf=function(){this.$childTemplate.find(".formComp-field-label").css("display","none")},this.showLabelDisplayf=function(){this.$childTemplate.find(".formComp-field-label").css("display","flex")},"textfield"!==this.fieldType&&"textarea"!==this.fieldType||(this.requiredf=function(){this.$childTemplate.find(".formComp-field-control").addClass("formComp-field-req formComp-field-err")},this.removeRequiredf=function(){this.$childTemplate.find(".formComp-field-control").removeClass("formComp-field-req formComp-field-err")})},fCheckbox=function(a){function b(a,b){return a=Math.ceil(a),b=Math.floor(b),Math.floor(Math.random()*(b-a)+a)}var c={scope:this,_init:function(){this._initialize(),this._generateTemplate(),this._bindEvents(),this._attachProperties(),this._render()},_initialize:function(){var a=this.scope;this.dynamicId="checkbox-"+b(1,1e4),this.fieldLabel=a.fieldLabel||"",this.value=a.value||"",this.fieldGroup=a.fieldGroup||[],this.groupLayout=a.groupLayout||"column",this.btn=a.btn!==!1,this.label=a.label!==!1,this.labelAreaDisplay=a.labelDisplayArea!==!1,this.btnAreaDisplay=a.btnAreaDisplay!==!1,this.labelClass=a.labelClass||!1,this.compClass=a.compClass||!1,this.btnClass=a.btnClass||!1,this.render=a.render||"",this.listeners=a.listeners||""},_generateTemplate:function(){this.$childTemplate=$('<div class="formComp-field" '+(this.flex?'style="flex:'+this.flex+'"':"")+"> \n\t\t\t\t\t\t\t\t\t\t\t"+(this.labelAreaDisplay?"<span class='formComp-field-label "+(this.labelClass?this.labelClass:"")+" '>"+(this.label?'<label for="'+this.dynamicId+'">'+this.fieldLabel+"</label>":"")+"</span>":"")+'\n\t\t\t\t\t\t\t\t\t\t\t<span id="'+this.dynamicId+'"\n\t\t\t\t\t\t\t\t\t\t\t\tclass="formComp-field-control '+("required"===this.required?" formComp-field-req formComp-field-err":" formComp-field-blank")+(this.compClass?this.compClass:"")+'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t'+(this.btnAreaDisplay?"<span class='formComp-field-btn "+(this.btnClass?this.btnClass:"")+" '>"+(this.btn?"<button>Click</button>":"")+"</span>":"")+"\n\t\t\t\t\t\t\t\t\t\t</div>"),this.$innerComp=this.$childTemplate.find("#"+this.dynamicId)[0],this.fieldGroup.forEach(function(a,c){var d="checkbox"+b(1,1e4);$("<input />",{type:"checkbox",id:d,value:a.value,name:a.name}).appendTo(this.$innerComp),$("<label />",{for:d,text:a.display}).appendTo(this.$innerComp),"column"===this.groupLayout&&$("<br>").appendTo(this.$innerComp)},this)},_bindEvents:function(){this.scope;if(""!=this.listeners)for(var a in this.listeners){var c="fComp."+b(1,1e4);$(this.$innerComp).on(c,this.listeners[a].bind(this.scope)),this.$innerComp[a]=this._handleEventsBefore.bind(this,c)}},_render:function(){a.append(this.$childTemplate),""!=this.render&&this.render()},_attachProperties:function(){var a=this.scope;a.$childTemplate=this.$childTemplate,a.$innerComp=this.$innerComp,sharedMethods.call(a)},_handleEventsBefore:function(a,b){$(this.$innerComp).trigger(a,b.target.value)}};c._init()},fContainer=function(a){function b(a,b){return a=Math.ceil(a),b=Math.floor(b),Math.floor(Math.random()*(b-a)+a)}var c={scope:this,_init:function(){this._initialize(),this._generateTemplate(),this._attachProperties(),this._render()},_initialize:function(){var a=this.scope;this.dynamicId="textField-"+b(1,1e4),this.fieldLabel=a.fieldLabel||"",this.flex=a.flex||!1,this.containerClass=a.containerClass||!1,this.html=a.html||"",this.render=a.render||"",this.listeners=a.listeners||""},_generateTemplate:function(){this.$childTemplate=$('<div class="formComp-field  '+(this.containerClass?this.containerClass:"")+' " '+(this.flex?'style="flex:'+this.flex+'"':"")+"> \n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</div>"),this.$childTemplate.append(this.html)},_render:function(){var b=this.scope;a.append(this.$childTemplate),""!=this.render&&b.render(5,6)},_attachProperties:function(){var a=this.scope;a.$childTemplate=this.$childTemplate,sharedMethods.call(a)}};c._init()},fRadio=function(a){function b(a,b){return a=Math.ceil(a),b=Math.floor(b),Math.floor(Math.random()*(b-a)+a)}var c={scope:this,_init:function(){this._initialize(),this._generateTemplate(),this._bindEvents(),this._attachProperties(),this._render()},_initialize:function(){var a=this.scope;this.dynamicId="textField-"+b(1,1e4),this.fieldLabel=a.fieldLabel||"",this.placeHolder=a.placeHolder||"",this.pattern=a.pattern||"",this.required=a.required===!0?"required":"",this.value=a.value||"",this.readOnly=a.readOnly===!0?"readonly":"",this.maxlength=a.maxlength||"",this.render=a.render||"",this.listeners=a.listeners||""},_generateTemplate:function(){this.$childTemplate=$('<div class="formComp-field"> \n\t\t\t\t\t\t\t\t\t\t\t<span class="formComp-field-label">\n\t\t\t\t\t\t\t\t\t\t\t\t<label for="'+this.dynamicId+'">'+this.fieldLabel+'</label> \n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="formComp-field-control">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="formComp-field-required">'+("required"===this.required?"*":"")+'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="formComp-field-input">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="'+this.dynamicId+'" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="'+this.value+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder="'+this.placeHolder+'" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpattern = "'+this.pattern+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxlength = "'+this.maxlength+'" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'+this.required+" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+this.readOnly+'> \n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="formComp-field-error">x</span>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="formComp-field-btn">\n\t\t\t\t\t\t\t\t\t\t\t\t<button>Click</button>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>'),this.$innerComp=this.$childTemplate.find("input")[0]},_bindEvents:function(){var a=this.scope;if(""!=this.listeners)for(var b in this.listeners)this.$innerComp[b]=this.listeners[b].bind(a,1,2)},_render:function(){a.append(this.$childTemplate),""!=this.render&&this.render(5,6)},_attachProperties:function(){var a=this.scope;a.$childTemplate=this.$childTemplate,a.$innerComp=this.$innerComp,a.hidef=this.hidef,a.showf=this.showf,a.disablef=this.disablef,a.enablef=this.enablef,a.requiredf=this.requiredf,a.removeRequiredf=this.removeRequiredf,a.removeNode=this.removeNode},hidef:function(){this.$childTemplate.css("visibility","hidden")},showf:function(){this.$childTemplate.css("visibility","visible")},disablef:function(){this.$innerComp.prop("readonly",!0)},enablef:function(){this.$innerComp.prop("readonly",!1)},requiredf:function(){this.$innerComp.prop("required",!0)},removeRequiredf:function(){this.$innerComp.prop("required",!1)},removeNode:function(){this.$childTemplate.remove()}};c._init()},fRadio=function(a){function b(a,b){return a=Math.ceil(a),b=Math.floor(b),Math.floor(Math.random()*(b-a)+a)}var c={scope:this,_init:function(){this._initialize(),this._generateTemplate(),this._bindEvents(),this._attachProperties(),this._render()},_initialize:function(){var a=this.scope;this.dynamicId="radio-"+b(1,1e4),this.fieldLabel=a.fieldLabel||"",this.value=a.value||"",this.fieldGroup=a.fieldGroup||[],this.groupLayout=a.groupLayout||"column",this.btn=a.btn!==!1,this.label=a.label!==!1,this.labelAreaDisplay=a.labelDisplayArea!==!1,this.btnAreaDisplay=a.btnAreaDisplay!==!1,this.labelClass=a.labelClass||!1,this.compClass=a.compClass||!1,this.btnClass=a.btnClass||!1,this.render=a.render||"",this.listeners=a.listeners||""},_generateTemplate:function(){this.$childTemplate=$('<div class="formComp-field" '+(this.flex?'style="flex:'+this.flex+'"':"")+"> \n\t\t\t\t\t\t\t\t\t\t\t"+(this.labelAreaDisplay?"<span class='formComp-field-label "+(this.labelClass?this.labelClass:"")+" '>"+(this.label?'<label for="'+this.dynamicId+'">'+this.fieldLabel+"</label>":"")+"</span>":"")+'\n\t\t\t\t\t\t\t\t\t\t\t<span id="'+this.dynamicId+'"\n\t\t\t\t\t\t\t\t\t\t\t\tclass="formComp-field-control '+("required"===this.required?" formComp-field-req formComp-field-err":" formComp-field-blank")+(this.compClass?this.compClass:"")+'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t'+(this.btnAreaDisplay?"<span class='formComp-field-btn "+(this.btnClass?this.btnClass:"")+" '>"+(this.btn?"<button>Click</button>":"")+"</span>":"")+"\n\t\t\t\t\t\t\t\t\t\t</div>"),this.$innerComp=this.$childTemplate.find("#"+this.dynamicId)[0],this.fieldGroup.forEach(function(a,c){var d="radio"+b(1,1e4);$("<input />",{type:"radio",id:d,value:a.value,name:a.name}).appendTo(this.$innerComp),$("<label />",{for:d,text:a.display}).appendTo(this.$innerComp),"column"===this.groupLayout&&$("<br />").appendTo(this.$innerComp)},this)},_bindEvents:function(){this.scope;if(""!=this.listeners)for(var a in this.listeners){var c="fComp."+b(1,1e4);$(this.$innerComp).on(c,this.listeners[a].bind(this.scope)),this.$innerComp[a]=this._handleEventsBefore.bind(this,c)}},_render:function(){a.append(this.$childTemplate),""!=this.render&&this.render()},_attachProperties:function(){var a=this.scope;a.$childTemplate=this.$childTemplate,a.$innerComp=this.$innerComp,sharedMethods.call(a)},_handleEventsBefore:function(a,b){$(this.$innerComp).trigger(a,b.target.value)}};c._init()},fTextArea=function(a){function b(a,b){return a=Math.ceil(a),b=Math.floor(b),Math.floor(Math.random()*(b-a)+a)}var c={scope:this,_init:function(){this._initialize(),this._generateTemplate(),this._bindEvents(),this._attachProperties(),this._render()},_initialize:function(){var a=this.scope;this.dynamicId="textArea-"+b(1,1e4),this.fieldLabel=a.fieldLabel||"",this.placeHolder=a.placeHolder||"",this.pattern=a.pattern||"",this.required=a.required===!0?"required":"",this.value=a.value||"",this.readOnly=a.readOnly===!0?"readonly":"",this.maxlength=a.maxlength||"",this.cols=a.cols||40,this.rows=a.rows||4,this.btn=a.btn!==!1,this.label=a.label!==!1,this.labelAreaDisplay=a.labelDisplayArea!==!1,this.btnAreaDisplay=a.btnAreaDisplay!==!1,this.labelClass=a.labelClass||!1,this.compClass=a.compClass||!1,this.btnClass=a.btnClass||!1,this.flex=a.flex||!1,this.render=a.render||"",this.listeners=a.listeners||""},_generateTemplate:function(){this.$childTemplate=$('<div class="formComp-field" '+(this.flex?'style="flex:'+this.flex+'"':"")+"> \n\t\t\t\t\t\t\t\t\t\t\t"+(this.labelAreaDisplay?"<span class='formComp-field-label "+(this.labelClass?this.labelClass:"")+" '>"+(this.label?'<label for="'+this.dynamicId+'">'+this.fieldLabel+"</label>":"")+"</span>":"")+'\n\t\t\t\t\t\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t\t\t\t\t\tclass="formComp-field-control '+("required"===this.required?" formComp-field-req formComp-field-err":" formComp-field-blank")+(this.compClass?this.compClass:"")+'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="'+this.dynamicId+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcols="'+this.cols+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows="'+this.rows+'" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="'+this.value+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder="'+this.placeHolder+'" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxlength = "'+this.maxlength+'" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'+this.required+" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+this.readOnly+">\n\t\t\t\t\t\t\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t"+(this.btnAreaDisplay?"<span class='formComp-field-btn "+(this.btnClass?this.btnClass:"")+" '>"+(this.btn?"<button>Click</button>":"")+"</span>":"")+"\n\t\t\t\t\t\t\t\t\t\t</div>"),this.$innerComp=this.$childTemplate.find("textarea")[0]},_bindEvents:function(){this.scope;if(""!=this.listeners)for(var a in this.listeners){var c="fComp."+b(1,1e4);$(this.$innerComp).on(c,this.listeners[a].bind(this.scope)),this.$innerComp[a]=this._handleEventsBefore.bind(this,c)}},_render:function(){a.append(this.$childTemplate),""!=this.render&&this.render()},_attachProperties:function(){var a=this.scope;a.$childTemplate=this.$childTemplate,a.$innerComp=this.$innerComp,sharedMethods.call(a)},_handleEventsBefore:function(a,b){$(this.$innerComp).trigger(a,b.target.value)}};c._init()},fTextfield=function(a){function b(a,b){return a=Math.ceil(a),b=Math.floor(b),Math.floor(Math.random()*(b-a)+a)}var c={scope:this,_init:function(){this._initialize(),this._generateTemplate(),this._bindEvents(),this._attachProperties(),this._render()},_initialize:function(){var a=this.scope;this.dynamicId="textField-"+b(1,1e4),this.fieldLabel=a.fieldLabel||"",this.flex=a.flex||!1,this.labelClass=a.labelClass||!1,this.compClass=a.compClass||!1,this.btnClass=a.btnClass||!1,this.placeHolder=a.placeHolder||"",this.pattern=a.pattern||"",this.required=a.required===!0?"required":"",this.value=a.value||"",this.readOnly=a.readOnly===!0?"readonly":"",this.maxlength=a.maxlength||"",this.btn=a.btn!==!1,this.label=a.label!==!1,this.labelAreaDisplay=a.labelDisplayArea!==!1,this.btnAreaDisplay=a.btnAreaDisplay!==!1,this.render=a.render||"",this.listeners=a.listeners||""},_generateTemplate:function(){this.$childTemplate=$('<div class="formComp-field" '+(this.flex?'style="flex:'+this.flex+'"':"")+"> \n\t\t\t\t\t\t\t\t\t\t\t"+(this.labelAreaDisplay?"<span class='formComp-field-label "+(this.labelClass?this.labelClass:"")+" '>"+(this.label?'<label for="'+this.dynamicId+'">'+this.fieldLabel+"</label>":"")+"</span>":"")+'\n\t\t\t\t\t\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t\t\t\t\t\tclass="formComp-field-control '+("required"===this.required?" formComp-field-req formComp-field-err":" formComp-field-blank")+(this.compClass?this.compClass:"")+'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="text" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="'+this.dynamicId+'" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="'+this.value+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder="'+this.placeHolder+'" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpattern = "'+this.pattern+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxlength = "'+this.maxlength+'" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'+this.required+" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+this.readOnly+"> \n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t"+(this.btnAreaDisplay?"<span class='formComp-field-btn "+(this.btnClass?this.btnClass:"")+" '>"+(this.btn?"<button>Click</button>":"")+"</span>":"")+"\n\t\t\t\t\t\t\t\t\t\t\t</div>"),this.$innerComp=this.$childTemplate.find("input")[0]},_bindEvents:function(){this.scope;if(""!=this.listeners)for(var a in this.listeners){var c="fComp."+b(1,1e4);$(this.$innerComp).on(c,this.listeners[a].bind(this.scope)),this.$innerComp[a]=this._handleEventsBefore.bind(this,c)}},_render:function(){a.append(this.$childTemplate),""!=this.render&&this.render()},_attachProperties:function(){var a=this.scope;a.$childTemplate=this.$childTemplate,a.$innerComp=this.$innerComp,sharedMethods.call(a)},_handleEventsBefore:function(a,b){$(this.$innerComp).trigger(a,b.target.value)}};c._init()};